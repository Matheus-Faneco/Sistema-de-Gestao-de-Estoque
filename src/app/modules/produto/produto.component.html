<p-card header="Cadastro de produto" styleClass="m-2 text-indigo-800">
  <div class="p-fluid p-formgrid p-grid">
    <div class="p-field p-col-12">
      <label for="title">Título</label>
      <input
        pInputText
        id="title"
        aria-describedby="titulo-produto"
        [(ngModel)]="produtoSelecionado.title"
        name="title"
        required
        class="p-inputtext p-component"
      />
    </div>
    <div class="p-field p-col-12">
      <label for="description">Descrição</label>
      <input
        pInputText
        id="description"
        aria-describedby="descricao-produto"
        [(ngModel)]="produtoSelecionado.description"
        name="description"
        required
        class="p-inputtext p-component"
      />
    </div>
    <div class="p-field p-col-12">
      <label for="category">Categoria</label>
      <p-dropdown
        id="category"
        [options]="categorias"
        [(ngModel)]="produtoSelecionado.category"
        optionLabel="name"
        optionValue="id"
        placeholder="Selecione uma categoria"
        name="category"
        required
      ></p-dropdown>
    </div>
    <div class="p-field p-col-12">
      <label for="brand">Marca</label>
      <p-dropdown
        id="brand"
        [options]="marcas"
        [(ngModel)]="produtoSelecionado.brand"
        optionLabel="name"
        optionValue="id"
        placeholder="Selecione uma marca"
        name="brand"
        required
      ></p-dropdown>
    </div>
    <div class="p-field p-col-12">
      <label for="serie_number">Número de série</label>
      <input
        pInputText
        id="serie_number"
        aria-describedby="serie-produto"
        [(ngModel)]="produtoSelecionado.serie_number"
        name="serie_number"
        required
        class="p-inputtext p-component"
      />
    </div>
    <div class="p-field p-col-12">
      <label for="cost_price">Preço de custo</label>
      <p-inputNumber
        id="cost_price"
        aria-describedby="preco-custo"
        [(ngModel)]="produtoSelecionado.cost_price"
        name="cost_price"
        mode="decimal"
        minFractionDigits="2"
        maxFractionDigits="5"
        step="0.01"
        required
        class="p-inputnumber p-component"
      />
    </div>
    <div class="p-field p-col-12">
      <label for="selling_price">Preço de venda</label>
      <p-inputNumber
        id="selling_price"
        aria-describedby="preco-venda"
        [(ngModel)]="produtoSelecionado.selling_price"
        name="selling_price"
        mode="decimal"
        minFractionDigits="2"
        maxFractionDigits="5"
        step="0.01"
        required
        class="p-inputtext p-component"
      />
    </div>

    <div class="p-field p-col-12">
      <p-button
        label="Confirmar"
        (click)="addProduto()"
        styleClass="p-button"
      ></p-button>
    </div>
  </div>
</p-card>


<!--Listagem-->

<p-card header="Listagem de produtos" styleClass="m-2 text-indigo-800">
    <p-table [value]="produtos" [paginator]="true" [rows]="5">
      <ng-template pTemplate="header">
        <tr>
          <th>Marca</th>
          <th>Categoria</th>
          <th>Título</th>
          <th>Descrição</th>
          <th>Número de série</th>
          <th>Preço de custo (R$)</th>
          <th>Preço de venda (R$)</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-produto>
        <tr>
          <td>{{ produto.brand_name }}</td>
          <td>{{ produto.category_title }}</td>
          <td>{{ produto.title }}</td>
          <td>{{ produto.description }}</td>
          <td>{{ produto.serie_number }}</td>
          <td>{{ produto.cost_price }}</td>
          <td>{{ produto.selling_price }}</td>
          <td>
            <!-- Botão de Exclusão -->
            <button mat-icon-button color="warn" (click)="deleteProduto(produto.id)">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>

